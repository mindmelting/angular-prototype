!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(1),i=r(o),a=n(2),u=r(a),s=n(3),p=r(s);angular.module("prototype",["ui.router","ct.ui.router.extras.future","ngTouch"]).service("BreakpointService",i["default"]).provider("$prototype",u["default"]).directive("prototype",p["default"])},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,r,o){"ngInject";var i=this;n(this,t),this.$rootScope=e,this.$prototype=r,this.$window=o,this.currentBreakpoint=this.getCurrentBreakpoint(),angular.element(o).bind("resize",o._.throttle(function(){i.onResize()},500))}return t.$inject=["$rootScope","$prototype","$window"],r(t,[{key:"getCurrentBreakpoint",value:function(){var t,e=this;return angular.forEach(this.$prototype.breakpoints,function(n){(!n.resolution||e.$window.innerWidth<=n.resolution)&&(t=n)}),t||this.$prototype.breakpoints[0]}},{key:"isBreakPointUpdated",value:function(){var t=this.getCurrentBreakpoint();return this.currentBreakpoint!==t?(this.currentBreakpoint=t,!0):!1}},{key:"onResize",value:function(){this.isBreakPointUpdated()&&this.$rootScope.$apply()}}]),t}();e["default"]=o,t.exports=e["default"]},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o={screenConfigFile:"/app/config/screens.json",breakpoints:[{name:"desktop",resolution:1280},{name:"tablet",resolution:960},{name:"mobile",resolution:540}],screenUrl:"assets/screens",screenFileFormat:".png"},i=function(){function t(e,r){"ngInject";n(this,t),this.options=_.cloneDeep(o),this.$stateProvider=e,this.$futureStateProvider=r}return t.$inject=["$stateProvider","$futureStateProvider"],r(t,[{key:"futureStateResolve",value:["$http",function(t){"ngInject";var e=this;return t.get(this.options.screenConfigFile).then(function(t){angular.forEach(t.data,function(t){e.createState(t)})})}]},{key:"createState",value:function(t){this.$stateProvider.state(t.state,{url:t.url+"?debug",breakpoints:t.breakpoints,template:"<prototype></prototype>"})}},{key:"$get",value:function(){return this.options}},{key:"init",value:function(t){var e=this;_.assign(this.options,t),this.$futureStateProvider.addResolve(function(){return angular.injector(["ng"]).invoke(e.futureStateResolve,e)})}}]),t}();e["default"]=i,t.exports=e["default"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,n,r,o){"ngInject";return{restrict:"E",scope:{},templateUrl:"prototype/prototype.html",link:function(i,a){function u(e){i.options=t.current.breakpoints[e.name],i.breakpoint=e,i.ratio=e.resolution/i.options.imageWidth,i.screenUrl=c(t.current)}function s(){i.preload.length=0,angular.forEach(i.options.hotspots,p)}function p(e){var n=t.get(e.state);n&&i.preload.push(c(n))}function c(e){var n=e.name+"_"+i.breakpoint.name+r.screenFileFormat;return r.screenUrl+t.href(e).replace("#","")+"/"+n}function l(){a.addClass("hint"),o(function(){a.removeClass("hint")},700)}i.debug=!!e.debug,i.preload=[],i.showHint=l,i.$watch(function(){return n.currentBreakpoint},u),a.find("[data-screen]").on("load",function(){i.$apply(s)})}}};n.$inject=["$state","$stateParams","BreakpointService","$prototype","$timeout"],e["default"]=n,t.exports=e["default"]}]),angular.module("prototype").run(["$templateCache",function(t){t.put("prototype/prototype.html",'<div class="prototype-wrapper" ng-click="showHint()"><div class="prototype-container" ng-class="{debug: debug}"><img ng-attr-width="{{breakpoint.resolution}}" data-screen="" ng-src="{{screenUrl}}"> <a ui-sref="{{hotspot.state}}({debug: debug || null})" ng-click="$event.stopPropagation()" ng-repeat="hotspot in options.hotspots" class="hotspot" style="left: {{hotspot.x * ratio}}px; top: {{hotspot.y * ratio}}px; width: {{hotspot.width * ratio}}px; height: {{hotspot.height * ratio}}px"></a></div><img class="screen-preload" ng-src="{{pre}}" ng-repeat="pre in preload"></div>')}]);